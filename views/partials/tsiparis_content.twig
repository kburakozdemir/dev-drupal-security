<div id="actions" class="mb-3">
	<p>Bu kısımda green olmayıp green olacak olanlar var. Özellikle orange olanların içinde...
										  Onların hangi koşulları sağlayarak green haline geleceğini renklendirmeyi
										  yapan JavaScript kodu içine koşul olarak koyacağız.</p>
	<p id="filter-container">
		Filter Uye ad:
		<input id="namefilter" oninput="filterNames(this.value);"/>
	</p>
	<p id="button-container">
		<button id="show-all" class="btn btn-success">show all</button>
		<button id="show-uncolored" class="btn btn-info">show uncolored</button>
	</p>
	<p id="counter"></p>
</div>
<div id="content">
	{% for result in results %}
		{% set odemeVarYokTest = result.Odemeler | length %}
		{% set odemeAdet = 0 %}
		{% set odemeOnay = [] %}

		{% if odemeVarYokTest == 0 %}
			{% set odemeVarYok = 'yok' %}
		{% else %}
			{% set odemeVarYok = 'var' %}
			{% if result.Odemeler.WebSiparisOdeme.0 is defined %}
				{% set odemeAdet = result.Odemeler.WebSiparisOdeme | length %}
				{% for od in result.Odemeler.WebSiparisOdeme %}
					{% if not loop.last %}
						{% set odemeOnay = odemeOnay | merge([od.Onaylandi]) %}
					{% else %}
						{% set odemeOnay = odemeOnay | merge([od.Onaylandi]) %}
					{% endif %}
				{% endfor %}
			{% else %}
				{% set odemeAdet = 1 %}
				{% set odemeOnay = result.Odemeler.WebSiparisOdeme.Onaylandi %}
			{% endif %}
		{% endif %}

		<div class="siparis" data-odemevaryok="{{ odemeVarYok }}" data-sd="{{ result.Durum }}" data-pd="{{ result.PaketlemeDurumuID }}" data-oo="{{ odemeOnay | join(',') }}" id="{{ result.ID }}">
			<p>Sipariş ID:
				{{ result.ID }}
				|
				{{ result.Durum }}
				({{ result.SiparisDurumu }})
																																																																																																																																																																		-																														-
				{{ result.PaketlemeDurumu }}
				{{ result.PaketlemeDurumuID }}
				-
				<span class="uye">{{ result.UyeAdi }}
					{{ result.UyeSoyadi }}</span>
				-
				<span class="uyeid">{{ result.UyeID }}</span>
				-
				{{ result.Mail }}
				-
				{{ result.SiparisTarihi }}
				-
				<span class="total">{{ result.SiparisToplamTutari }}</span>
				-
																				odemeKaydıVarYok:
				{{ odemeVarYok }}
				-
																				odemeAdet:
				{{ odemeAdet }}
				odemeOnay:
				{{ odemeOnay | join(',') }}
			</p>
		</div>
	{% endfor %}
</div>
